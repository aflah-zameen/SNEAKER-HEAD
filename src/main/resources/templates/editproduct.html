<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SNEAKER HEAD - Edit Product</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .navbar-brand {
 font-weight: 600;
 color: black;
font-family: 'Trirong',serif;
}
.sidebar {
    min-height: 100vh;
    border-right: 1px solid #dee2e6;
}

.sidebar .nav-link {
    color: #333;
    padding: 0.8rem 1rem;
    border-bottom: 1px solid #dee2e6;
}

.sidebar .nav-link:hover,
.sidebar .nav-link.active {
    background-color: #f8f9fa;
}

.main-content {
    padding: 20px;
}

.logo {
    font-size: 1.5rem;
    font-weight: bold;
    padding: 1rem;
    border-bottom: 1px solid #dee2e6;
}

.file-upload {
    border: 2px dashed #dee2e6;
    padding: 20px;
    text-align: center;
    margin: 10px 0;
    cursor: pointer;
}

.uploaded-files {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 10px;
}

.uploaded-file {
    padding: 5px 10px;
    background: #f8f9fa;
    border-radius: 4px;
    display: flex;
    align-items: center;
    gap: 5px;
}

.is-invalid .file-upload {
    border-color: #dc3545;
}

.invalid-feedback {
    display: none;
}

.is-invalid .invalid-feedback {
    display: block;
}
    </style>
</head>
<body>

<header class="navbar  sticky-top bg-white flex-md-nowrap p-0 shadow " style="height: 3rem;">
    <span class="navbar-brand col-md-3 col-lg-2 me-0 px-3 position-absolute start-50  translate-middle fs-3" href="#" style="top:1.5rem;">SNEAKER HEAD</span>
    <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
</header>

<div class="container-fluid">
    <div class="row">
        <!-- Sidebar -->
        <div class="col-md-3 col-lg-2 px-0 sidebar">
            <nav class="nav flex-column">
                <a class="nav-link" href="#dashboard">Dashboard</a>
                <a class="nav-link" href="#orders">Orders</a>
                <a class="nav-link active" href="#products">Products</a>
                <a class="nav-link" href="/admin/users">Users</a>
                <a class="nav-link" href="/admin/category">Categories</a>
                <a class="nav-link" href="/admin/brands">Brands</a>
                <a class="nav-link" href="#coupons">Coupons</a>
                <a class="nav-link" href="#banners">Banners</a>
                <a class="nav-link" href="#payments">Payments</a>
                <a class="nav-link" href="/logout">Offers</a>
                <button
                        class="btn btn-danger mt-3"
                        onclick="window.location.href='/logout'"
                        style="width: 100%; text-align: center; background-color: #dc3545; color: white; border: none; padding: 10px; font-size: 16px; cursor: pointer;">
                    Logout
                </button>
            </nav>
        </div>

        <!-- Main Content -->
        <div class="col-md-9 col-lg-10 main-content">
            <h2 class="mb-4">Edit Products</h2>
            <form id="editProductForm" novalidate>
                <div class="mb-3">
                    <label for="productName" class="form-label">Product name</label>
                    <input type="text" class="form-control" id="productName" value="WMN'S Drunk" required>
                    <div class="invalid-feedback">Please provide a product name.</div>
                </div>
                <div class="mb-3">
                    <label for="productDescription" class="form-label">Description</label>
                    <textarea class="form-control" id="productDescription" rows="3" required>Nike Series P-900000</textarea>
                    <div class="invalid-feedback">Please provide a product description.</div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-4">
                        <label for="productColor" class="form-label">Color</label>
                        <input type="text" class="form-control" id="productColor" value="Red" required>
                        <div class="invalid-feedback">Please provide a color.</div>
                    </div>
                    <div class="col-md-4">
                        <label for="productBrand" class="form-label">Brand</label>
                        <input type="text" class="form-control" id="productBrand" value="Nike" required>
                        <div class="invalid-feedback">Please provide a brand.</div>
                    </div>
                    <div class="col-md-4">
                        <label for="productCategory" class="form-label">Category</label>
                        <input type="text" class="form-control" id="productCategory" value="Sport" required>
                        <div class="invalid-feedback">Please provide a category.</div>
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="productPrice" class="form-label">Price</label>
                        <input type="number" class="form-control" id="productPrice" value="32000" required min="0">
                        <div class="invalid-feedback">Please provide a valid price.</div>
                    </div>
                    <div class="col-md-6">
                        <label for="productQuantity" class="form-label">Quantity</label>
                        <input type="number" class="form-control" id="productQuantity" value="67" required min="0">
                        <div class="invalid-feedback">Please provide a valid quantity.</div>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label">Product Images</label>
                    <div class="file-upload">
                        <input type="file" class="d-none" id="productImages" multiple accept="image/*">
                        <label for="productImages" class="mb-0">
                            Choose Files or Drag & Drop
                        </label>
                    </div>
                    <div class="uploaded-files" id="uploadedFiles">
                        <div class="uploaded-file">
                            File.jpg
                            <button type="button" class="btn-close btn-close-sm"></button>
                        </div>
                        <div class="uploaded-file">
                            File2.jpeg
                            <button type="button" class="btn-close btn-close-sm"></button>
                        </div>
                        <div class="uploaded-file">
                            File3.jpeg
                            <button type="button" class="btn-close btn-close-sm"></button>
                        </div>
                    </div>
                    <div class="invalid-feedback">Please upload at least 3 images.</div>
                </div>
                <button type="submit" class="btn btn-primary">Save Product</button>
            </form>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Handle file uploads
    document.getElementById('productImages').addEventListener('change', function(e) {
        const files = Array.from(e.target.files);
        const uploadedFiles = document.getElementById('uploadedFiles');
        
        files.forEach(file => {
            const fileElement = document.createElement('div');
            fileElement.className = 'uploaded-file';
            fileElement.innerHTML = `
                ${file.name}
                <button type="button" class="btn-close btn-close-sm"></button>
            `;
            uploadedFiles.appendChild(fileElement);
        });

        validateImages();
    });

    // Handle drag and drop
    const fileUpload = document.querySelector('.file-upload');
    
    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
        fileUpload.addEventListener(eventName, preventDefaults, false);
    });

    function preventDefaults (e) {
        e.preventDefault();
        e.stopPropagation();
    }

    ['dragenter', 'dragover'].forEach(eventName => {
        fileUpload.addEventListener(eventName, highlight, false);
    });

    ['dragleave', 'drop'].forEach(eventName => {
        fileUpload.addEventListener(eventName, unhighlight, false);
    });

    function highlight(e) {
        fileUpload.classList.add('border-primary');
    }

    function unhighlight(e) {
        fileUpload.classList.remove('border-primary');
    }

    fileUpload.addEventListener('drop', handleDrop, false);

    function handleDrop(e) {
        const dt = e.dataTransfer;
        const files = dt.files;
        document.getElementById('productImages').files = files;
        
        // Trigger change event to update UI
        const event = new Event('change');
        document.getElementById('productImages').dispatchEvent(event);
    }

    // Form validation and submission
    const form = document.getElementById('editProductForm');
    form.addEventListener('submit', function(e) {
        e.preventDefault();
        if (validateForm()) {
            // Here you would typically send the form data to a server
            alert('Product updated successfully!');
        }
    });

    function validateForm() {
        let isValid = true;
        const inputs = form.querySelectorAll('input, textarea');
        inputs.forEach(input => {
            if (!input.value.trim()) {
                isValid = false;
                input.classList.add('is-invalid');
            } else {
                input.classList.remove('is-invalid');
            }
        });

        isValid = validateImages() && isValid;

        return isValid;
    }

    function validateImages() {
        const uploadedFiles = document.getElementById('uploadedFiles');
        const fileUploadContainer = uploadedFiles.closest('.mb-3');
        if (uploadedFiles.children.length < 3) {
            fileUploadContainer.classList.add('is-invalid');
            return false;
        } else {
            fileUploadContainer.classList.remove('is-invalid');
            return true;
        }
    }

    // Remove uploaded file
    document.getElementById('uploadedFiles').addEventListener('click', function(e) {
        if (e.target.classList.contains('btn-close')) {
            e.target.closest('.uploaded-file').remove();
            validateImages();
        }
    });

    // Real-time validation
    form.querySelectorAll('input, textarea').forEach(input => {
        input.addEventListener('blur', function() {
            if (!this.value.trim()) {
                this.classList.add('is-invalid');
            } else {
                this.classList.remove('is-invalid');
            }
        });
    });
</script>

</body>
</html>